Search.setIndex({"docnames": ["basic_example", "code_docs", "examples", "index", "new_data_exporter", "new_data_loader"], "filenames": ["basic_example.ipynb", "code_docs.rst", "examples.rst", "index.rst", "new_data_exporter.ipynb", "new_data_loader.ipynb"], "titles": ["Import data", "Code Documentation", "Examples", "ParticlePhaseSpace", "Writing a new data exporter", "Writing a new data loader"], "terms": {"we": [0, 1, 4, 5], "us": [0, 1, 4, 5], "an": [0, 1, 4, 5], "instanc": [0, 5], "dataload": [0, 1, 4, 5], "class": [0, 1, 4, 5], "In": [0, 5], "thi": [0, 1, 3, 4, 5], "exampl": [0, 3, 4, 5], "work": [0, 4, 5], "topa": [0, 1, 4], "For": [0, 5], "list": [0, 1, 4], "all": [0, 1, 4, 5], "current": 0, "avail": [0, 4, 5], "see": 0, "here": 0, "instruct": 0, "write": [0, 1, 2, 3], "new": [0, 1, 2, 3], "__": [0, 4, 5], "1": [0, 4, 5], "from": [0, 1, 4, 5], "pathlib": [0, 1, 4, 5], "path": [0, 1, 4, 5], "sy": [0, 4, 5], "append": [0, 4, 5], "particlephasespac": [0, 1, 4, 5], "phasespac": [0, 1, 4, 5], "test_data_loc": 0, "r": [0, 1, 5], "test": [0, 2, 5], "test_data": [0, 4, 5], "coll_phasespace_xang_0": [0, 4], "00_yang_0": [0, 4], "00_angular_error_0": [0, 4], "0": [0, 1, 4, 5], "phsp": [0, 4], "absolut": [0, 1, 5], "ps_data": [0, 4], "loadtopasdata": [0, 1, 4], "onc": 0, "have": [0, 1, 4, 5], "can": [0, 1, 4, 5], "pass": [0, 4, 5], "analysi": 0, "2": [0, 1, 4, 5], "p": [0, 4, 5], "perform": 0, "some": [0, 1, 4, 5], "3": [0, 4, 5], "report": [0, 1], "print": [0, 1], "summari": 0, "total": 0, "number": [0, 1], "particl": [0, 3, 4, 5], "311489": 0, "uniqu": [0, 1], "speci": [0, 1], "308280": 0, "gamma": [0, 1], "mean": [0, 5], "energi": [0, 1, 4, 5], "91": 0, "mev": [0, 4, 5], "median": 0, "20": 0, "spread": 0, "iqr": 0, "03": 0, "min": 0, "007973426952958107": 0, "max": 0, "10": [0, 1], "35245418548584": 0, "2853": 0, "electron": [0, 4, 5], "16": 0, "39": 0, "95": 0, "022923989221453667": 0, "9": 0, "435824394226074": 0, "356": 0, "positron": 0, "66": 0, "07927867770195007": 0, "8": 0, "458529472351074": 0, "you": [0, 1, 4, 5], "consist": 0, "three": 0, "differ": [0, 5], "also": [0, 1, 4, 5], "gener": [0, 1, 3, 4, 5], "plot": [0, 1, 5], "posit": [0, 1], "4": [0, 4, 5], "plot_energy_histogram": [0, 1, 4], "5": [0, 1, 4, 5], "plot_position_histogram": [0, 1], "6": [0, 4, 5], "plot_particle_posit": [0, 1, 5], "note": [0, 1, 5], "abov": 0, "weight": [0, 1, 4, 5], "ar": [0, 1, 4, 5], "color": 0, "produc": [0, 1], "scatterplot": 0, "set": [0, 1], "weight_position_plot": [0, 1, 5], "true": [0, 1, 5], "howev": 0, "i": [0, 1, 4, 5], "veri": [0, 1, 4], "slow": [0, 1, 5], "larg": 0, "dataset": 0, "easili": 0, "add": [0, 1], "7": 0, "electron_p": 0, "onli": [0, 1, 4], "pfg": 0, "code": [0, 3, 5], "11": [0, 4], "same": [0, 1], "get": [0, 5], "multipl": 0, "gamma_p": 0, "positron_p": 0, "one": [0, 1], "anoth": 0, "follow": [0, 4, 5], "where": [0, 1, 4, 5], "remov": 0, "no_gamma_p": 0, "togeth": 0, "original_p": 0, "cannot": 0, "ident": 0, "exist": [0, 1, 4, 5], "If": [0, 1, 5], "realli": 0, "want": [0, 1, 4, 5], "do": [0, 1, 4], "need": [0, 4, 5], "updat": [0, 1], "particle_id": 0, "field": 0, "first": [0, 1, 4, 5], "courant": 0, "snyder": 0, "commonli": 0, "describ": 0, "distribut": 0, "transvers": 0, "calcul": [0, 1], "save": [0, 1], "print_twiss_paramet": [0, 1], "beam_direct": [0, 1, 5], "z": [0, 1, 4, 5], "rm": 0, "x": [0, 1, 4, 5], "y": [0, 1, 4, 5], "epsilon": 0, "582455": 0, "741279": 0, "alpha": [0, 1], "622287": 0, "527946": 0, "beta": [0, 1], "585998": 0, "027061": 0, "161570": 0, "141655": 0, "12": 0, "plot_transverse_trace_spac": 0, "The": [0, 4, 5], "show": [0, 1], "what": [0, 5], "sometim": 0, "call": [0, 1, 5], "trace": 0, "which": [0, 1, 5], "versu": 0, "diverg": 0, "px": [0, 4, 5], "pz": [0, 4, 5], "red": 0, "ellips": 0, "repres": 0, "enclos": 0, "should": [0, 1, 5], "enclod": 0, "37": 0, "beam": [0, 1], "research": 0, "purpos": [0, 1, 3, 5], "mai": [0, 1, 4, 5], "wish": [0, 1], "chang": 0, "valu": [0, 4, 5], "becaus": [0, 4, 5], "simul": [0, 5], "coordin": 0, "system": 0, "possibl": 0, "directli": 0, "interact": 0, "panda": [0, 1], "store": [0, 5], "whenev": [0, 1], "column": [0, 1, 4, 5], "except": [0, 4, 5], "requir": [0, 1, 4, 5], "delet": [0, 1], "As": [0, 4], "variou": 0, "fill": [0, 4, 5], "method": [0, 4, 5], "recalcul": 0, "ani": [0, 1, 5], "addit": [0, 5], "13": 0, "zero": [0, 4, 5], "mm": [0, 1, 4, 5], "doubl": [0, 4, 5], "momentum": [0, 1, 4, 5], "c": [0, 4, 5], "similarli": 0, "stage": 0, "ataload": 0, "demonstr": [0, 5], "At": 0, "time": [0, 1, 4, 5], "had": 0, "written": 0, "so": [0, 5], "again": 0, "14": 0, "dataexport": [0, 1, 4], "topas_export": [0, 1], "output_loc": [0, 1], "output_nam": [0, 1], "test_export": 0, "file": [0, 1, 4, 5], "success": 0, "lt": [0, 4], "0x7f556ebcefd0": 0, "gt": [0, 4], "page": [1, 3], "sphinx": 1, "automat": [1, 5], "scan": 1, "our": [1, 4, 5], "sourc": 1, "loadpandasdata": 1, "input_data": 1, "particle_typ": [1, 4, 5], "none": [1, 4, 5], "load": [1, 4, 5], "provid": [1, 5], "interfac": 1, "those": 1, "who": 1, "specif": [1, 4], "applic": 1, "_particlephasespac": [1, 4, 5], "figurespec": 1, "thought": 1, "might": 1, "easiest": 1, "wai": 1, "ensur": 1, "univers": 1, "paramet": [1, 2], "accross": 1, "figur": 1, "data_load": 1, "assess_density_versus_r": 1, "rval": 1, "verbos": 1, "crude": 1, "assess": 1, "how": [1, 5], "mani": 1, "certain": 1, "radiu": 1, "roi": 1, "otherwis": 1, "zval": 1, "includ": [1, 5], "would": [1, 4, 5], "within": 1, "distanc": 1, "read": [1, 4, 5], "locat": 1, "e": [1, 4, 5], "g": 1, "np": [1, 4, 5], "linspac": 1, "21": 1, "screen": 1, "return": 1, "density_data": 1, "datafram": 1, "contain": [1, 5], "val": 1, "proport": 1, "insid": 1, "calculate_twiss_paramet": 1, "twiss": [1, 2], "fill_beta_and_gamma": 1, "relatavist": 1, "factor": [1, 5], "self": [1, 4, 5], "_ps_data": 1, "fill_direction_cosin": 1, "direct": 1, "cosin": 1, "import": [1, 2, 3, 4, 5], "u": 1, "respect": 1, "v": 1, "fill_kinetic_": 1, "kinet": 1, "fill_rest_mass": 1, "rest": 1, "mass": 1, "fill_veloc": 1, "veloc": 1, "get_downsampled_phase_spac": 1, "downsample_factor": 1, "object": [1, 2], "randomlt": 1, "sampl": [1, 5], "larger": 1, "ha": [1, 5], "size": 1, "origin": [1, 4], "shuffl": 1, "befor": 1, "being": 1, "randomli": 1, "downsampl": 1, "n_bin": 1, "100": 1, "titl": 1, "histogram": 1, "paritcl": 1, "each": 1, "spci": 1, "present": 1, "overlaid": 1, "bin": 1, "fals": 1, "xlim": 1, "ylim": 1, "scatter": [1, 5], "str": [1, 4], "option": 1, "travel": 1, "default": 1, "bool": 1, "gaussian": 1, "kde": 1, "inform": 1, "could": 1, "try": 1, "file_nam": 1, "thei": [1, 5], "alwai": 1, "filenam": 1, "specifi": [1, 4, 5], "json": 1, "directori": 1, "project_particl": 1, "project": 1, "forward": [1, 5], "back": 1, "serv": [1, 3], "approxim": 1, "more": 1, "advanc": 1, "transport": 1, "give": 1, "indic": 1, "end": 1, "up": 1, "absenc": 1, "other": 1, "forc": 1, "when": 1, "function": 1, "recal": 1, "dervi": 1, "quantiti": 1, "too": 1, "hard": 1, "check": [1, 4, 5], "remain": 1, "correct": [1, 4, 5], "far": 1, "sumari": 1, "reset_phase_spac": 1, "reduc": 1, "memori": 1, "footprint": 1, "perfor": 1, "oper": 1, "invalidi": 1, "deriv": 1, "metric": 1, "newdataexport": [1, 4], "phasespaceinst": 1, "output": 1, "ascii": [1, 5], "format": [1, 4, 5], "http": 1, "readthedoc": 1, "io": 1, "en": 1, "latest": 1, "html": 1, "handl": [1, 5], "featur": [1, 4, 5], "everi": 1, "flag": 1, "histori": 1, "data": [2, 3], "basic": [2, 5], "analyt": 2, "seper": 2, "ad": 2, "subtract": 2, "phase": [2, 3, 4, 5], "space": [2, 3, 4, 5], "manipul": [2, 3], "export": [2, 3, 5], "loader": [2, 3, 4], "aim": 3, "python": 3, "librari": [3, 5], "analys": 3, "document": 3, "index": 3, "modul": 3, "search": 3, "similar": 4, "process": 4, "let": [4, 5], "sai": 4, "send": 4, "friend": 4, "he": 4, "sent": 4, "hi": 4, "me": 4, "py": [4, 5], "To": 4, "creat": 4, "_dataexportersbas": 4, "numpi": [4, 5], "__particle_config__": [4, 5], "particle_cfg": [4, 5], "def": [4, 5], "_define_required_column": 4, "_export_data": 4, "job": [4, 5], "two": [4, 5], "must": [4, 5], "your": [4, 5], "These": 4, "name": [4, 5], "match": 4, "allow": 4, "actual": [4, 5], "happen": 4, "case": 4, "hand": 4, "look": [4, 5], "like": [4, 5], "_required_column": 4, "ek": [4, 5], "_output_nam": 4, "suffix": [4, 5], "dat": [4, 5], "els": 4, "writefilepath": 4, "_output_loc": 4, "header": [4, 5], "ty": [4, 5], "tz": [4, 5], "tpx": [4, 5], "tpy": [4, 5], "tpz": [4, 5], "te": [4, 5], "_p": 4, "to_numpi": 4, "transpos": 4, "formatspec": 4, "5f": 4, "savetxt": 4, "fmt": 4, "delimit": 4, "comment": 4, "": 4, "data_loc": [4, 5], "ps_electron": 4, "test_new_export": 4, "__main__": 4, "0x7f93340754c0": 4, "verifi": 4, "recycl": 4, "wrote": 4, "_dataimportersbas": [4, 5], "newdataload": [4, 5], "_import_data": [4, 5], "loadtxt": [4, 5], "_input_data": [4, 5], "skiprow": [4, 5], "type": [4, 5], "pdg_code": [4, 5], "particle_properti": [4, 5], "_particle_typ": [4, 5], "id": [4, 5], "sinc": [4, 5], "just": [4, 5], "ones": [4, 5], "shape": [4, 5], "arang": [4, 5], "len": [4, 5], "replac": [4, 5], "convers": [4, 5], "consisten": [4, 5], "_check_energy_consist": [4, 5], "_check_input_data": [4, 5], "input": [4, 5], "is_fil": [4, 5], "rais": [4, 5], "filenotfounderror": [4, 5], "f": [4, 5], "doe": [4, 5], "right": [4, 5], "extens": [4, 5], "line": [4, 5], "open": [4, 5], "first_lin": [4, 5], "readlin": [4, 5], "n": [4, 5], "good": 4, "One": 5, "goal": 5, "make": 5, "easi": 5, "inhereit": 5, "whatev": 5, "user": 5, "suppli": 5, "expect": 5, "etc": 5, "pre": 5, "error": 5, "__import_data": 5, "fundament": 5, "popul": 5, "frame": 5, "attribut": 5, "succesfulli": 5, "guarante": 5, "now": 5, "am": 5, "go": 5, "develop": 5, "receiv": 5, "colleagu": 5, "encod": 5, "text": 5, "alreadi": 5, "unit": 5, "pretti": 5, "straight": 5, "both": 5, "enter": 5, "below": 5, "complet": 5, "ok": 5, "out": 5, "new_data_loader_demo": 5, "down": 5}, "objects": {"ParticlePhaseSpace": [[1, 0, 0, "-", "DataExporters"], [1, 0, 0, "-", "DataLoaders"], [1, 0, 0, "-", "_ParticlePhaseSpace"]], "ParticlePhaseSpace.DataExporters": [[1, 1, 1, "", "NewDataExporter"], [1, 1, 1, "", "Topas_Exporter"]], "ParticlePhaseSpace.DataLoaders": [[1, 1, 1, "", "LoadPandasData"], [1, 1, 1, "", "LoadTopasData"]], "ParticlePhaseSpace._ParticlePhaseSpace": [[1, 1, 1, "", "FigureSpecs"], [1, 1, 1, "", "PhaseSpace"]], "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace": [[1, 2, 1, "", "assess_density_versus_r"], [1, 2, 1, "", "calculate_twiss_parameters"], [1, 2, 1, "", "fill_beta_and_gamma"], [1, 2, 1, "", "fill_direction_cosines"], [1, 2, 1, "", "fill_kinetic_E"], [1, 2, 1, "", "fill_rest_mass"], [1, 2, 1, "", "fill_velocity"], [1, 2, 1, "", "get_downsampled_phase_space"], [1, 2, 1, "", "plot_energy_histogram"], [1, 2, 1, "", "plot_particle_positions"], [1, 2, 1, "", "plot_position_histogram"], [1, 2, 1, "", "print_twiss_parameters"], [1, 2, 1, "", "project_particles"], [1, 2, 1, "", "report"], [1, 2, 1, "", "reset_phase_space"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"]}, "titleterms": {"import": 0, "data": [0, 1, 4, 5], "basic": 0, "analyt": 0, "seper": 0, "ad": 0, "subtract": 0, "phase": [0, 1], "space": [0, 1], "object": 0, "twiss": 0, "paramet": 0, "manipul": 0, "export": [0, 1, 4], "code": 1, "document": 1, "loader": [1, 5], "particl": 1, "exampl": 2, "particlephasespac": 3, "content": 3, "indic": 3, "tabl": 3, "write": [4, 5], "new": [4, 5], "test": 4}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "nbsphinx": 4, "sphinx": 57}, "alltitles": {"Import data": [[0, "Import-data"]], "Basic analytics": [[0, "Basic-analytics"]], "Seperating, adding, and subtracting phase space objects": [[0, "Seperating,-adding,-and-subtracting-phase-space-objects"]], "Twiss parameters": [[0, "Twiss-parameters"]], "Manipulating data in the phase space": [[0, "Manipulating-data-in-the-phase-space"]], "Exporting the data": [[0, "Exporting-the-data"]], "Code Documentation": [[1, "code-documentation"]], "Data Loaders": [[1, "module-ParticlePhaseSpace.DataLoaders"]], "Particle Phase Space": [[1, "module-ParticlePhaseSpace._ParticlePhaseSpace"]], "Data Exporters": [[1, "module-ParticlePhaseSpace.DataExporters"]], "Examples": [[2, "examples"]], "Examples:": [[2, null]], "ParticlePhaseSpace": [[3, "particlephasespace"]], "Contents": [[3, "contents"]], "Contents:": [[3, null]], "Indices and tables": [[3, "indices-and-tables"]], "Writing a new data exporter": [[4, "Writing-a-new-data-exporter"]], "Testing the data export": [[4, "Testing-the-data-export"]], "Writing a new data loader": [[5, "Writing-a-new-data-loader"]]}, "indexentries": {"figurespecs (class in particlephasespace._particlephasespace)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.FigureSpecs"]], "loadpandasdata (class in particlephasespace.dataloaders)": [[1, "ParticlePhaseSpace.DataLoaders.LoadPandasData"]], "loadtopasdata (class in particlephasespace.dataloaders)": [[1, "ParticlePhaseSpace.DataLoaders.LoadTopasData"]], "newdataexporter (class in particlephasespace.dataexporters)": [[1, "ParticlePhaseSpace.DataExporters.NewDataExporter"]], "particlephasespace.dataexporters": [[1, "module-ParticlePhaseSpace.DataExporters"]], "particlephasespace.dataloaders": [[1, "module-ParticlePhaseSpace.DataLoaders"]], "particlephasespace._particlephasespace": [[1, "module-ParticlePhaseSpace._ParticlePhaseSpace"]], "phasespace (class in particlephasespace._particlephasespace)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace"]], "topas_exporter (class in particlephasespace.dataexporters)": [[1, "ParticlePhaseSpace.DataExporters.Topas_Exporter"]], "assess_density_versus_r() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.assess_density_versus_r"]], "calculate_twiss_parameters() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.calculate_twiss_parameters"]], "fill_beta_and_gamma() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.fill_beta_and_gamma"]], "fill_direction_cosines() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.fill_direction_cosines"]], "fill_kinetic_e() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.fill_kinetic_E"]], "fill_rest_mass() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.fill_rest_mass"]], "fill_velocity() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.fill_velocity"]], "get_downsampled_phase_space() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.get_downsampled_phase_space"]], "module": [[1, "module-ParticlePhaseSpace.DataExporters"], [1, "module-ParticlePhaseSpace.DataLoaders"], [1, "module-ParticlePhaseSpace._ParticlePhaseSpace"]], "plot_energy_histogram() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.plot_energy_histogram"]], "plot_particle_positions() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.plot_particle_positions"]], "plot_position_histogram() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.plot_position_histogram"]], "print_twiss_parameters() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.print_twiss_parameters"]], "project_particles() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.project_particles"]], "report() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.report"]], "reset_phase_space() (particlephasespace._particlephasespace.phasespace method)": [[1, "ParticlePhaseSpace._ParticlePhaseSpace.PhaseSpace.reset_phase_space"]]}})